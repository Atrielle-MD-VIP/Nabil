<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin Panel - Couple Website</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    
    body {
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      font-family: 'Poppins', sans-serif;
      color: #fff;
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* Overlay */
    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      z-index: 998;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s;
    }

    .overlay.active {
      opacity: 1;
      visibility: visible;
    }

    /* Sidebar Navigation (Seperti Manajer MT) */
    .sidebar {
      position: fixed;
      top: 0;
      left: -280px;
      width: 280px;
      height: 100vh;
      background: rgba(26, 26, 46, 0.98);
      backdrop-filter: blur(10px);
      z-index: 999;
      transition: left 0.3s ease;
      border-right: 1px solid rgba(233, 69, 96, 0.2);
      display: flex;
      flex-direction: column;
    }

    .sidebar.active {
      left: 0;
    }

    .sidebar-header {
      padding: 30px 20px;
      border-bottom: 1px solid rgba(233, 69, 96, 0.2);
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .sidebar-logo-icon {
      width: 50px;
      height: 50px;
      background: linear-gradient(135deg, #e94560, #ff6b6b);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      box-shadow: 0 0 20px rgba(233, 69, 96, 0.4);
    }

    .sidebar-logo-text {
      font-family: 'Dancing Script', cursive;
      font-size: 24px;
      color: #e94560;
    }

    .sidebar-nav {
      flex: 1;
      padding: 20px 0;
      overflow-y: auto;
    }

    .nav-item {
      display: flex;
      align-items: center;
      gap: 15px;
      padding: 15px 25px;
      color: #aaa;
      text-decoration: none;
      transition: all 0.3s;
      border-left: 3px solid transparent;
      cursor: pointer;
    }

    .nav-item:hover, .nav-item.active {
      background: rgba(233, 69, 96, 0.1);
      color: #e94560;
      border-left-color: #e94560;
    }

    .nav-item i {
      width: 24px;
      text-align: center;
      font-size: 18px;
    }

    .nav-item span {
      font-size: 15px;
    }

    .sidebar-footer {
      padding: 20px;
      border-top: 1px solid rgba(233, 69, 96, 0.2);
    }

    .view-btn {
      display: flex;
      align-items: center;
      gap: 10px;
      background: rgba(233, 69, 96, 0.2);
      color: #e94560;
      padding: 12px 20px;
      border-radius: 10px;
      text-decoration: none;
      font-weight: 500;
      transition: all 0.3s;
      border: 1px solid rgba(233, 69, 96, 0.3);
      margin-bottom: 10px;
    }

    .view-btn:hover {
      background: #e94560;
      color: white;
    }

    .logout-btn {
      display: flex;
      align-items: center;
      gap: 10px;
      background: transparent;
      color: #888;
      padding: 12px 20px;
      border-radius: 10px;
      text-decoration: none;
      font-weight: 500;
      transition: all 0.3s;
      border: 1px solid rgba(255, 255, 255, 0.1);
      width: 100%;
      cursor: pointer;
      font-family: 'Poppins', sans-serif;
      font-size: 14px;
    }

    .logout-btn:hover {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
      border-color: #ef4444;
    }

    /* Top Header */
    .top-header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      padding: 15px 20px;
      background: rgba(0,0,0,0.3);
      backdrop-filter: blur(10px);
      z-index: 997;
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .menu-toggle {
      width: 40px;
      height: 40px;
      background: rgba(233, 69, 96, 0.2);
      border: none;
      border-radius: 10px;
      color: #e94560;
      font-size: 20px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s;
    }

    .menu-toggle:hover {
      background: #e94560;
      color: white;
    }

    .header-title {
      font-size: 20px;
      color: #e94560;
      flex: 1;
      font-weight: 600;
    }

    /* Main Content */
    .main-content {
      margin-left: 0;
      padding: 80px 20px 40px;
      max-width: 1200px;
      margin-right: auto;
      margin-left: auto;
    }

    .page-header {
      margin-bottom: 30px;
      padding-bottom: 20px;
      border-bottom: 1px solid rgba(233, 69, 96, 0.2);
    }

    .page-header h1 {
      font-size: 28px;
      color: #e94560;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    /* Stats Cards */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 40px;
    }

    .stat-card {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(233, 69, 96, 0.2);
      border-radius: 16px;
      padding: 25px;
      display: flex;
      align-items: center;
      gap: 15px;
      transition: transform 0.3s;
    }

    .stat-card:hover {
      transform: translateY(-5px);
      border-color: rgba(233, 69, 96, 0.4);
    }

    .stat-icon {
      width: 50px;
      height: 50px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
    }

    .stat-icon.pink { background: rgba(233, 69, 96, 0.2); color: #e94560; }
    .stat-icon.blue { background: rgba(59, 130, 246, 0.2); color: #3b82f6; }
    .stat-icon.green { background: rgba(16, 185, 129, 0.2); color: #10b981; }
    .stat-icon.purple { background: rgba(139, 92, 246, 0.2); color: #8b5cf6; }

    .stat-info h3 {
      font-size: 28px;
      font-weight: 700;
      color: #fff;
      margin-bottom: 5px;
    }

    .stat-info p {
      color: #888;
      font-size: 14px;
    }

    /* Content Sections */
    .section {
      display: none;
      animation: fadeIn 0.5s;
    }

    .section.active {
      display: block;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .card {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(233, 69, 96, 0.2);
      border-radius: 16px;
      overflow: hidden;
      margin-bottom: 30px;
    }

    .card-header {
      padding: 20px 25px;
      border-bottom: 1px solid rgba(233, 69, 96, 0.2);
      background: rgba(233, 69, 96, 0.05);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .card-header h3 {
      font-size: 18px;
      font-weight: 600;
      color: #e94560;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .card-body {
      padding: 25px;
    }

    /* Forms */
    .form-group {
      margin-bottom: 20px;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      color: #e94560;
      font-size: 14px;
      font-weight: 500;
    }

    .form-control {
      width: 100%;
      padding: 12px 15px;
      background: rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(233, 69, 96, 0.3);
      border-radius: 10px;
      color: #fff;
      font-family: 'Poppins', sans-serif;
      font-size: 14px;
      transition: all 0.3s;
    }

    .form-control:focus {
      outline: none;
      border-color: #e94560;
      box-shadow: 0 0 15px rgba(233, 69, 96, 0.2);
    }

    textarea.form-control {
      resize: vertical;
      min-height: 100px;
    }

    .btn-primary {
      background: linear-gradient(135deg, #e94560, #c23a51);
      color: white;
      border: none;
      padding: 12px 25px;
      border-radius: 10px;
      cursor: pointer;
      font-family: 'Poppins', sans-serif;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      transition: all 0.3s;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(233, 69, 96, 0.4);
    }

    .btn-secondary {
      background: rgba(255, 255, 255, 0.1);
      color: #aaa;
      border: 1px solid rgba(255, 255, 255, 0.2);
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-family: 'Poppins', sans-serif;
      transition: all 0.3s;
    }

    .btn-secondary:hover {
      background: rgba(233, 69, 96, 0.2);
      color: #e94560;
      border-color: rgba(233, 69, 96, 0.3);
    }

    .btn-danger {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
      border: 1px solid rgba(239, 68, 68, 0.3);
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-family: 'Poppins', sans-serif;
      transition: all 0.3s;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .btn-danger:hover {
      background: #ef4444;
      color: white;
    }

    /* Photo Grid Admin */
    .photo-admin-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 20px;
    }

    .photo-admin-item {
      background: rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(233, 69, 96, 0.2);
      border-radius: 12px;
      overflow: hidden;
      position: relative;
    }

    .photo-number {
      position: absolute;
      top: 10px;
      left: 10px;
      background: #e94560;
      color: white;
      width: 28px;
      height: 28px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 12px;
      z-index: 10;
    }

    .photo-admin-item img {
      width: 100%;
      height: 150px;
      object-fit: cover;
    }

    .photo-fields {
      padding: 15px;
    }

    .photo-fields input {
      width: 100%;
      margin-bottom: 10px;
      padding: 8px 12px;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(233, 69, 96, 0.2);
      border-radius: 6px;
      color: white;
      font-size: 12px;
    }

    .photo-actions {
      display: flex;
      gap: 8px;
    }

    .btn-icon {
      flex: 1;
      padding: 8px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 12px;
      transition: all 0.3s;
    }

    .btn-save-small {
      background: rgba(16, 185, 129, 0.2);
      color: #10b981;
    }

    .btn-save-small:hover {
      background: #10b981;
      color: white;
    }

    .btn-delete-small {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
    }

    .btn-delete-small:hover {
      background: #ef4444;
      color: white;
    }

    .add-photo-card {
      border: 2px dashed rgba(233, 69, 96, 0.4);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 40px 20px;
      cursor: pointer;
      transition: all 0.3s;
      min-height: 250px;
    }

    .add-photo-card:hover {
      background: rgba(233, 69, 96, 0.1);
      border-color: #e94560;
    }

    .add-photo-card i {
      font-size: 40px;
      color: #e94560;
      margin-bottom: 10px;
    }

    /* Video Cards */
    .video-edit-list {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .video-edit-item {
      background: rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(233, 69, 96, 0.2);
      border-radius: 12px;
      padding: 20px;
      display: flex;
      gap: 20px;
      align-items: flex-start;
    }

    .video-number-badge {
      width: 40px;
      height: 40px;
      background: linear-gradient(135deg, #e94560, #c23a51);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      flex-shrink: 0;
    }

    .video-fields {
      flex: 1;
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 15px;
    }

    .video-fields .form-group:last-child {
      grid-column: 1 / -1;
    }

    /* Preview Box */
    .preview-box {
      background: rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(233, 69, 96, 0.2);
      border-radius: 12px;
      padding: 20px;
      margin-top: 20px;
    }

    .preview-couple {
      display: flex;
      align-items: center;
      gap: 20px;
    }

    .preview-couple img {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      object-fit: cover;
      border: 3px solid #e94560;
    }

    .preview-info h4 {
      color: #e94560;
      margin-bottom: 5px;
    }

    .preview-info p {
      color: #888;
      font-size: 14px;
    }

    /* Letter Preview */
    .letter-preview-box {
      background: white;
      color: #333;
      padding: 30px;
      border-radius: 12px;
      margin-top: 20px;
      font-family: 'Dancing Script', cursive;
      font-size: 18px;
      line-height: 1.8;
      min-height: 200px;
    }

    /* Notification */
    .notification {
      position: fixed;
      top: 30px;
      right: 30px;
      background: rgba(16, 185, 129, 0.9);
      color: white;
      padding: 15px 25px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      gap: 10px;
      transform: translateX(400px);
      transition: transform 0.3s;
      z-index: 1000;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    }

    .notification.show {
      transform: translateX(0);
    }

    .notification.error {
      background: rgba(239, 68, 68, 0.9);
    }

    /* Responsive */
    @media (max-width: 768px) {
      .sidebar { width: 260px; left: -260px; }
      .video-fields { grid-template-columns: 1fr; }
      .photo-admin-grid { grid-template-columns: 1fr; }
      .stats-grid { grid-template-columns: repeat(2, 1fr); }
    }

    @media (max-width: 480px) {
      .stats-grid { grid-template-columns: 1fr; }
      .preview-couple { flex-direction: column; text-align: center; }
    }
  </style>
</head>
<body>
  <!-- Overlay -->
  <div class="overlay" id="overlay" onclick="toggleSidebar()"></div>

  <!-- Sidebar Navigation -->
  <aside class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <div class="sidebar-logo-icon">‚ù§Ô∏è</div>
      <div class="sidebar-logo-text">Admin Panel</div>
    </div>
    
    <nav class="sidebar-nav">
      <a class="nav-item active" onclick="showSection('dashboard', this)">
        <i class="fas fa-home"></i>
        <span>Dashboard</span>
      </a>
      <a class="nav-item" onclick="showSection('photos', this)">
        <i class="fas fa-images"></i>
        <span>Photos (9)</span>
      </a>
      <a class="nav-item" onclick="showSection('videos', this)">
        <i class="fas fa-video"></i>
        <span>Videos (3)</span>
      </a>
      <a class="nav-item" onclick="showSection('letter', this)">
        <i class="fas fa-envelope"></i>
        <span>Love Letter</span>
      </a>
    </nav>
    
    <div class="sidebar-footer">
      <a href="index.html" target="_blank" class="view-btn">
        <i class="fas fa-eye"></i>
        <span>View Website</span>
      </a>
      <button onclick="logout()" class="logout-btn">
        <i class="fas fa-sign-out-alt"></i>
        <span>Logout</span>
      </button>
    </div>
  </aside>

  <!-- Top Header -->
  <header class="top-header">
    <button class="menu-toggle" onclick="toggleSidebar()">
      <i class="fas fa-bars"></i>
    </button>
    <div class="header-title">Admin Dashboard</div>
  </header>

  <!-- Main Content -->
  <main class="main-content">
    
    <!-- Dashboard Section -->
    <div id="dashboard" class="section active">
      <div class="page-header">
        <h1><i class="fas fa-chart-line"></i> Dashboard Overview</h1>
      </div>

      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-icon pink"><i class="fas fa-images"></i></div>
          <div class="stat-info">
            <h3 id="statPhotos">9</h3>
            <p>Total Photos</p>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon blue"><i class="fas fa-video"></i></div>
          <div class="stat-info">
            <h3>3</h3>
            <p>Videos</p>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon green"><i class="fas fa-heart"></i></div>
          <div class="stat-info">
            <h3 id="statDays">0</h3>
            <p>Days Together</p>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon purple"><i class="fas fa-clock"></i></div>
          <div class="stat-info">
            <h3 id="lastUpdate">Now</h3>
            <p>Last Updated</p>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <h3><i class="fas fa-edit"></i> Quick Edit</h3>
        </div>
        <div class="card-body">
          <div class="form-group">
            <label>Couple Names</label>
            <input type="text" class="form-control" id="dashNames" placeholder="e.g., Alex & Sarah">
          </div>
          <div class="form-group">
            <label>Love Quote</label>
            <input type="text" class="form-control" id="dashQuote" placeholder="Your favorite quote">
          </div>
          <div class="form-group">
            <label>Hero Image URL</label>
            <input type="text" class="form-control" id="dashHero" placeholder="https://...">
          </div>
          <div class="form-group">
            <label>Start Date</label>
            <input type="date" class="form-control" id="dashDate">
          </div>
          <button onclick="saveDashboard()" class="btn-primary">
            <i class="fas fa-save"></i> Save Changes
          </button>

          <div class="preview-box">
            <div class="preview-couple">
              <img id="previewImg" src="https://images.unsplash.com/photo-1516589178581-6cd7833ae3b2?w=200&h=200&fit=crop" alt="Preview">
              <div class="preview-info">
                <h4 id="previewNames">Alex & Sarah</h4>
                <p id="previewQuote">Every love story is beautiful...</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Photos Section -->
    <div id="photos" class="section">
      <div class="page-header">
        <h1><i class="fas fa-images"></i> Manage Photos (9)</h1>
      </div>

      <div class="card">
        <div class="card-header">
          <h3>Gallery Photos</h3>
          <button onclick="addNewPhoto()" class="btn-secondary">
            <i class="fas fa-plus"></i> Add Photo
          </button>
        </div>
        <div class="card-body">
          <div class="photo-admin-grid" id="photoGrid">
            <!-- Photos loaded via JS -->
          </div>
        </div>
      </div>
    </div>

    <!-- Videos Section -->
    <div id="videos" class="section">
      <div class="page-header">
        <h1><i class="fas fa-video"></i> Manage Videos (3)</h1>
      </div>

      <div class="video-edit-list">
        <div class="video-edit-item">
          <div class="video-number-badge">1</div>
          <div class="video-fields">
            <div class="form-group">
              <label>Video URL</label>
              <input type="text" class="form-control" id="vid1url" placeholder="Video URL">
            </div>
            <div class="form-group">
              <label>Title</label>
              <input type="text" class="form-control" id="vid1title" placeholder="Title">
            </div>
            <div class="form-group">
              <label>Description</label>
              <textarea class="form-control" id="vid1desc" rows="2" placeholder="Description"></textarea>
            </div>
          </div>
        </div>

        <div class="video-edit-item">
          <div class="video-number-badge">2</div>
          <div class="video-fields">
            <div class="form-group">
              <label>Video URL</label>
              <input type="text" class="form-control" id="vid2url" placeholder="Video URL">
            </div>
            <div class="form-group">
              <label>Title</label>
              <input type="text" class="form-control" id="vid2title" placeholder="Title">
            </div>
            <div class="form-group">
              <label>Description</label>
              <textarea class="form-control" id="vid2desc" rows="2" placeholder="Description"></textarea>
            </div>
          </div>
        </div>

        <div class="video-edit-item">
          <div class="video-number-badge">3</div>
          <div class="video-fields">
            <div class="form-group">
              <label>Video URL</label>
              <input type="text" class="form-control" id="vid3url" placeholder="Video URL">
            </div>
            <div class="form-group">
              <label>Title</label>
              <input type="text" class="form-control" id="vid3title" placeholder="Title">
            </div>
            <div class="form-group">
              <label>Description</label>
              <textarea class="form-control" id="vid3desc" rows="2" placeholder="Description"></textarea>
            </div>
          </div>
        </div>
      </div>

      <button onclick="saveVideos()" class="btn-primary" style="margin-top: 20px;">
        <i class="fas fa-save"></i> Save All Videos
      </button>
    </div>

    <!-- Letter Section -->
    <div id="letter" class="section">
      <div class="page-header">
        <h1><i class="fas fa-envelope"></i> Love Letter</h1>
      </div>

      <div class="card">
        <div class="card-header">
          <h3>Edit Letter Content</h3>
        </div>
        <div class="card-body">
          <div class="form-group">
            <label>Letter Content</label>
            <textarea class="form-control" id="letterText" rows="8" placeholder="Write your romantic message..."></textarea>
          </div>
          <div class="form-group">
            <label>Signature Name</label>
            <input type="text" class="form-control" id="letterSign" placeholder="e.g., Alex">
          </div>
          <button onclick="saveLetter()" class="btn-primary">
            <i class="fas fa-save"></i> Save Letter
          </button>

          <div class="letter-preview-box" id="letterPreview">
            Your letter will appear here...
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Notification -->
  <div class="notification" id="notification">
    <i class="fas fa-check-circle"></i>
    <span id="notifText">Saved successfully!</span>
  </div>

  <script>
    // Check auth
    if (!localStorage.getItem('adminLoggedIn')) {
      window.location.href = 'login.html';
    }

    // Toggle Sidebar
    function toggleSidebar() {
      const sidebar = document.getElementById('sidebar');
      const overlay = document.getElementById('overlay');
      sidebar.classList.toggle('active');
      overlay.classList.toggle('active');
    }

    // Navigation
    function showSection(sectionId, element) {
      document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
      document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
      
      document.getElementById(sectionId).classList.add('active');
      if (element) element.classList.add('active');
      
      toggleSidebar(); // Close sidebar on mobile after selection
      
      if (sectionId === 'photos') loadPhotos();
    }

    // Load data
    window.onload = function() {
      loadDashboard();
      loadVideos();
      loadLetter();
      updateStats();
    };

    function loadDashboard() {
      document.getElementById('dashNames').value = localStorage.getItem('coupleNames') || '';
      document.getElementById('dashQuote').value = localStorage.getItem('loveQuote') || '';
      document.getElementById('dashHero').value = localStorage.getItem('heroImage') || '';
      document.getElementById('dashDate').value = localStorage.getItem('startDate') || '';
      updatePreview();
    }

    function updatePreview() {
      const names = document.getElementById('dashNames').value || 'Alex & Sarah';
      const quote = document.getElementById('dashQuote').value || 'Every love story is beautiful...';
      const hero = document.getElementById('dashHero').value || 'https://images.unsplash.com/photo-1516589178581-6cd7833ae3b2?w=200&h=200&fit=crop';
      
      document.getElementById('previewNames').textContent = names;
      document.getElementById('previewQuote').textContent = quote;
      document.getElementById('previewImg').src = hero;
    }

    function saveDashboard() {
      localStorage.setItem('coupleNames', document.getElementById('dashNames').value);
      localStorage.setItem('loveQuote', document.getElementById('dashQuote').value);
      localStorage.setItem('heroImage', document.getElementById('dashHero').value);
      localStorage.setItem('startDate', document.getElementById('dashDate').value);
      
      showNotif('Dashboard updated successfully!');
      updatePreview();
      updateStats();
    }

    function updateStats() {
      const startDate = new Date(localStorage.getItem('startDate') || '2023-01-01');
      const now = new Date();
      const days = Math.floor((now - startDate) / (1000 * 60 * 60 * 24));
      document.getElementById('statDays').textContent = days;
      
      const photos = JSON.parse(localStorage.getItem('galleryPhotos')) || [];
      document.getElementById('statPhotos').textContent = photos.length || 9;
    }

    // Photos Management (9 slots)
    let photos = JSON.parse(localStorage.getItem('galleryPhotos')) || [
      {url: 'https://images.unsplash.com/photo-1522673607200-164d1b6ce486?w=400', caption: 'First Date ‚ù§Ô∏è'},
      {url: 'https://images.unsplash.com/photo-1519741497674-611481863552?w=400', caption: 'Beach Day üåä'},
      {url: 'https://images.unsplash.com/photo-1529634806980-85c3dd6d34ac?w=400', caption: 'Anniversary üéâ'},
      {url: 'https://images.unsplash.com/photo-1515934751635-c81c6bc9a2d8?w=400', caption: 'Adventure Time üåü'},
      {url: 'https://images.unsplash.com/photo-1469334031218-e382a71b716b?w=400', caption: 'Sunset Walk üåÖ'},
      {url: 'https://images.unsplash.com/photo-1518621736915-f3b1c41bfd00?w=400', caption: 'Coffee Date ‚òï'},
      {url: 'https://images.unsplash.com/photo-1529333166437-7750a6dd5a70?w=400', caption: 'Movie Night üé¨'},
      {url: 'https://images.unsplash.com/photo-1517841905240-472988babdf9?w=400', caption: 'Park Picnic üå∏'},
      {url: 'https://images.unsplash.com/photo-1529333241880-0fc7855bb921?w=400', caption: 'Forever Us üíë'}
    ];

    function loadPhotos() {
      const grid = document.getElementById('photoGrid');
      grid.innerHTML = '';
      
      photos.forEach((photo, index) => {
        const item = document.createElement('div');
        item.className = 'photo-admin-item';
        item.innerHTML = `
          <div class="photo-number">${index + 1}</div>
          <img src="${photo.url}" alt="Photo ${index + 1}">
          <div class="photo-fields">
            <input type="text" value="${photo.url}" id="photo-url-${index}" placeholder="Image URL">
            <input type="text" value="${photo.caption}" id="photo-cap-${index}" placeholder="Caption">
            <div class="photo-actions">
              <button onclick="updatePhoto(${index})" class="btn-icon btn-save-small">
                <i class="fas fa-save"></i> Save
              </button>
              <button onclick="removePhoto(${index})" class="btn-icon btn-delete-small">
                <i class="fas fa-trash"></i> Delete
              </button>
            </div>
          </div>
        `;
        grid.appendChild(item);
      });

      // Add button if less than 9 photos
      if (photos.length < 9) {
        const addBtn = document.createElement('div');
        addBtn.className = 'add-photo-card';
        addBtn.onclick = addNewPhoto;
        addBtn.innerHTML = `
          <i class="fas fa-plus-circle"></i>
          <span>Add New Photo</span>
          <small style="color: #888; margin-top: 5px;">${photos.length}/9 photos</small>
        `;
        grid.appendChild(addBtn);
      }
    }

    function updatePhoto(index) {
      const url = document.getElementById(`photo-url-${index}`).value;
      const caption = document.getElementById(`photo-cap-${index}`).value;
      photos[index] = {url, caption};
      localStorage.setItem('galleryPhotos', JSON.stringify(photos));
      showNotif('Photo updated!');
      updateStats();
    }

    function removePhoto(index) {
      if (confirm('Remove this photo?')) {
        photos.splice(index, 1);
        localStorage.setItem('galleryPhotos', JSON.stringify(photos));
        loadPhotos();
        showNotif('Photo removed!');
        updateStats();
      }
    }

    function addNewPhoto() {
      if (photos.length >= 9) {
        showNotif('Maximum 9 photos allowed!', 'error');
        return;
      }
      photos.push({
        url: 'https://via.placeholder.com/400x600/1a1a2e/e94560?text=New+Photo', 
        caption: 'New Memory'
      });
      localStorage.setItem('galleryPhotos', JSON.stringify(photos));
      loadPhotos();
      showNotif('New photo added!');
      updateStats();
    }

    // Videos
    function loadVideos() {
      const vids = JSON.parse(localStorage.getItem('videos')) || [];
      if (vids[0]) {
        document.getElementById('vid1url').value = vids[0].url || '';
        document.getElementById('vid1title').value = vids[0].title || '';
        document.getElementById('vid1desc').value = vids[0].desc || '';
      }
      if (vids[1]) {
        document.getElementById('vid2url').value = vids[1].url || '';
        document.getElementById('vid2title').value = vids[1].title || '';
        document.getElementById('vid2desc').value = vids[1].desc || '';
      }
      if (vids[2]) {
        document.getElementById('vid3url').value = vids[2].url || '';
        document.getElementById('vid3title').value = vids[2].title || '';
        document.getElementById('vid3desc').value = vids[2].desc || '';
      }
    }

    function saveVideos() {
      const videos = [
        {url: document.getElementById('vid1url').value, title: document.getElementById('vid1title').value, desc: document.getElementById('vid1desc').value},
        {url: document.getElementById('vid2url').value, title: document.getElementById('vid2title').value, desc: document.getElementById('vid2desc').value},
        {url: document.getElementById('vid3url').value, title: document.getElementById('vid3title').value, desc: document.getElementById('vid3desc').value}
      ];
      localStorage.setItem('videos', JSON.stringify(videos));
      showNotif('Videos saved successfully!');
    }

    // Letter
    function loadLetter() {
      document.getElementById('letterText').value = localStorage.getItem('letterContent') || '';
      document.getElementById('letterSign').value = localStorage.getItem('letterSignature') || '';
      updateLetterPreview();
    }

    document.getElementById('letterText').addEventListener('input', updateLetterPreview);
    document.getElementById('letterSign').addEventListener('input', updateLetterPreview);

    function updateLetterPreview() {
      const text = document.getElementById('letterText').value || 'Your letter will appear here...';
      const sign = document.getElementById('letterSign').value || 'Your Name';
      document.getElementById('letterPreview').innerHTML = `
        <div style="color: #e94560; font-size: 24px; margin-bottom: 15px;">My Dearest Love,</div>
        ${text.replace(/\n/g, '<br>')}
        <div style="margin-top: 20px; text-align: right; color: #e94560;">
          Forever Yours,<br>
          ${sign} ‚ù§Ô∏è
        </div>
      `;
    }

    function saveLetter() {
      localStorage.setItem('letterContent', document.getElementById('letterText').value);
      localStorage.setItem('letterSignature', document.getElementById('letterSign').value);
      showNotif('Love letter saved!');
    }

    // Notification
    function showNotif(text, type = 'success') {
      const notif = document.getElementById('notification');
      document.getElementById('notifText').textContent = text;
      notif.className = 'notification ' + type;
      notif.classList.add('show');
      setTimeout(() => notif.classList.remove('show'), 3000);
    }

    function logout() {
      localStorage.removeItem('adminLoggedIn');
      window.location.href = 'login.html';
    }
  </script>
</body>
</html>
